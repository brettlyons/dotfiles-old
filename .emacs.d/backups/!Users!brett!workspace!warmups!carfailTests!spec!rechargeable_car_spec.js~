var RechargeableCar = require('../rechargeableCar.js');

describe('rechargeableCar', function () {
  
  it('goes 100 miles per charge', function () {
    var testCar = new RechargeableCar();
    testCar.charge(100); // charge takes a percentage
    testCar.incMileage(100); // drive takes a distance
    expect(testCar.getCharge()).toEqual(0);
  });
  
  it('is initialized with zero charge', function () {
    var testCar = new RechargeableCar();
    expect(testCar.getCharge()).toEqual(0);
  });
  
  it('requires a charge to go anywhere', function () {
    var testCar = new RechargeableCar();
    expect(testCar.incMileage(1).toThrow());
    // expect(testCar.drive(1).toBe('ERR MSG'));
    // ERR MSG should be well defined before uncommenting this test 
  });

  it('charge remaining should decrease as distance is driven', function () {
    var testCar = new RechargeableCar();
    testCar.charge(100);
    testCar.incMileage(1);
    expect(testCar.getCharge()).toBeLessThan(100);
  });

  it('an error occurs in the software every 400 miles', function () {
    var testCar = new RechargeableCar();
    for (var i = 0 ; i <= 4 ; i++) {
      testCar.charge(100);
      testCar.incMileage(100);
    }
    testCar.charge(100);
    expect(testCar.drive(10)).toThrow();
    //expect(testCar.drive(10)).toThrowError(/*what type of error? etc */)
    // the error thrown needs to be well defined before uncommenting the above line
  });
});
